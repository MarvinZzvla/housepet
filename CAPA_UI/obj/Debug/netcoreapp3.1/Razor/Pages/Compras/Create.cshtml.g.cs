#pragma checksum "C:\Users\Zavala\Desktop\Desarrollo\HOUSEPET\PetHouse\CAPA_UI\Pages\Compras\Create.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "243c33eef9fb3a5763944e30194fcb8990e38f04"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(CAPA_UI.Pages.Compras.Pages_Compras_Create), @"mvc.1.0.razor-page", @"/Pages/Compras/Create.cshtml")]
namespace CAPA_UI.Pages.Compras
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Users\Zavala\Desktop\Desarrollo\HOUSEPET\PetHouse\CAPA_UI\Pages\_ViewImports.cshtml"
using CAPA_UI;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"243c33eef9fb3a5763944e30194fcb8990e38f04", @"/Pages/Compras/Create.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"ec7aa5bdf3122fd2be8c0f9b4f55854e40f0f0ca", @"/Pages/_ViewImports.cshtml")]
    #nullable restore
    public class Pages_Compras_Create : global::Microsoft.AspNetCore.Mvc.RazorPages.Page
    #nullable disable
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("asp-page", "/Index", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("asp-page", "/Compras/ComprasIndex", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_2 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("method", "post", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_3 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("enctype", new global::Microsoft.AspNetCore.Html.HtmlString("multipart/form-data"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.AnchorTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_AnchorTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\r\n");
            DefineSection("Scripts", async() => {
                WriteLiteral(@"
<script>

    //Objeto que enviaremos al crear la compra
    Compra = {
        cabecera:{
         TableName: 'CRUD_CABECERA_COMPRA',
         Parametro: 'C',
         IdCabCompra:0,
         FKProveedor:0,
         FechaCompra: new Date().toLocaleDateString(),
         DescuentoCompra:0,
         IvaCompra:0,
         TotalCompra:0,
        },
        detalle:[]
    }

    //Asignamos fecha de hoy al input de fecha
    document.addEventListener('DOMContentLoaded', () => {
      const dateInput = document.getElementById('staticFecha')
      dateInput.value = new Date().toLocaleDateString('es-MX',{year: 'numeric', month: 'long', day: 'numeric'});
    });

    //Añadir una fila mas al detalle de la compra
    function addRow(){
        
        //Tomamos los valores del Formulario
        let cbArticulo = document.getElementById(""TxtIdCategoria"");
            console.log(""Hola mundo Zavala"")
        let ArticuloId = parseInt(cbArticulo.value)
        let ArticuloNombre = cbArtic");
                WriteLiteral(@"ulo.options[cbArticulo.selectedIndex].text;
        let Cantidad = parseInt(document.getElementById(""TxtCantidadDetalleCompra"").value);
        let Precio = parseInt(document.getElementById(""TxtPrecioDetalleCompra"").value);

        let ObjetoDetalle = {
              TableName :'CRUD_DETALLE_COMPRA',
              Parametro :'C',
              FkCompra:0 ,
              FkArticulo:ArticuloId,
              CantidadCompra:Cantidad,
              PrecioCompra: Precio,
        }
        
        if(isNaN(Cantidad) || isNaN(Precio)|| Math.sign(Cantidad) !==1 || Math.sign(Precio) !==1){
            alert('Por favor Asegurar de llenar todos los campos del formulario con un valor valido antes de Agregar un articulo')
            return
        }

        //Ver si el articulo ya existia en el objeto para sumar sus cantidades y precio si no solamente se agrega al arreglo
        let detalleCompra = Compra.detalle.find(det => det.FkArticulo === ObjetoDetalle.FkArticulo)
        if(!detalleCompra){");
                WriteLiteral(@"
            Compra.detalle.push(ObjetoDetalle);
            createTableRowDOM(ArticuloId,ArticuloNombre,Cantidad,Precio)
            console.log(Compra)
        }
        else{
            let index = Compra.detalle.indexOf(detalleCompra);
            Compra.detalle[index].CantidadCompra += ObjetoDetalle.CantidadCompra;
            Compra.detalle[index].PrecioCompra += ObjetoDetalle.PrecioCompra;
            updateTableRowDOM(ArticuloId,Compra.detalle[index].CantidadCompra,Compra.detalle[index].PrecioCompra)
            console.log(Compra)
        }
        //Actualizamos los precios
        setStaticPrices();
    }
    
    //Eliminar el detalle tanto del objeto compra como del Html
    function deleteTableRow(ArticuloId){
        //Eliminamos la Fila del Html
        let trArticulo = document.getElementById(`tr-${ArticuloId}`);
        trArticulo.parentElement.removeChild(trArticulo);
        //Eliminamos el Objeto del Array de Detalle
        let detalleCompra = Compra.detalle.find(de");
                WriteLiteral(@"t => det.ArticuloId === ArticuloId)
        let index = Compra.detalle.indexOf(detalleCompra);
        Compra.detalle.splice(index,1);
        //Actualizamos los precios
        setStaticPrices();
    }

    // Añadir el html del la nueva linea
    function createTableRowDOM(ArticuloId,ArticuloNombre,Cantidad,Precio){
        //Asignamos nuestro TBody
        let tablebody = document.getElementById(""tbl-detalle"");
        
        //Creamos la fila de la tabla
        let fila = document.createElement(""tr"");
        fila.id = `tr-${ArticuloId}`;

        //Creamos los TD de la fila
        let tdArticuloNombre = document.createElement(""td"");
        let tdCantidad = document.createElement(""td"");
        tdCantidad.id = `td-cantidad-${ArticuloId}`
        let tdPrecio = document.createElement(""td"");
        tdPrecio.id = `td-precio-${ArticuloId}`
        let tdAcciones = document.createElement(""td"");
        
        //Asignamos los valores que tendra nuestros Td
        let txtArticul");
                WriteLiteral(@"oNombre = document.createTextNode(ArticuloNombre);
        let txtCantidad = document.createTextNode(Cantidad);
        let txtPrecio = document.createTextNode(`C$ ${Precio}`);

        //Creamos el boton delete con el evento de eliminar el detalle
        let btnDelete = document.createElement(""button"");
        btnDelete.type = 'button';
        btnDelete.className = 'btn btn-danger';
        btnDelete.addEventListener('click',()=>deleteTableRow(ArticuloId))
        btnDelete.innerText = 'Eliminar';

        //Añadimos lo valores a nuestros Td
        tdArticuloNombre.appendChild(txtArticuloNombre);
        tdCantidad.appendChild(txtCantidad);
        tdPrecio.appendChild(txtPrecio);
        tdAcciones.appendChild(btnDelete);

        //Añadimos nuestros Td a la fila Creada
        fila.appendChild(tdArticuloNombre);
        fila.appendChild(tdCantidad);
        fila.appendChild(tdPrecio);
        fila.appendChild(tdAcciones)
        
        //Añadimos nuestra fila creada a nuestro T");
                WriteLiteral(@"Body
        tablebody.appendChild(fila);
    }

    //Actualizar el Html de la Linea
    function updateTableRowDOM(ArticuloId,Cantidad,Precio){
        let tdCantidad = document.getElementById(`td-cantidad-${ArticuloId}`);
        let tdPrecio = document.getElementById(`td-precio-${ArticuloId}`);
        tdCantidad.innerText = Cantidad;
        tdPrecio.innerText = `C$ ${Precio}`;
    }

       async function agregarArticulo(item)
    {
        let articulosList = JSON.parse('");
#nullable restore
#line 141 "C:\Users\Zavala\Desktop\Desarrollo\HOUSEPET\PetHouse\CAPA_UI\Pages\Compras\Create.cshtml"
                                   Write(Html.Raw(Json.Serialize(Model.Articulos)));

#line default
#line hidden
#nullable disable
                WriteLiteral(@"') 
        console.log(articulosList);
        let articulo = articulosList.find(x => x.idArticulo === item)
        TxtIdCategoria.value = articulo.nombreArticulo;
        TxtPrecioDetalleCompra.value = articulo.precioVenta;
        TxtId.value = item;
        $('#ModalArticuloComprar').modal('hide');
    }
    //Actualizamos los precios de los Input Staticos
    function setStaticPrices(){
        let StaticSubTotal = document.getElementById('staticSubTotal');
        let StaticIva = document.getElementById('staticIVA');
        let StaticPrecioTotal = document.getElementById('staticPrecioTotal');
        let Cantidad = document.getElementById(""TxtCantidadDetalleCompra"");
        let Precio = document.getElementById(""TxtPrecioDetalleCompra"");


        let PrecioTotal = Compra.detalle.map(det=> det.PrecioCompra).reduce((prev,current)=> prev+current,0);
            PrecioTotal = PrecioTotal * parseInt(TxtCantidadDetalleCompra.value);
        console.log(TxtCantidadDetalleCompra.value)
  ");
                WriteLiteral(@"      let Iva = PrecioTotal * 0.15;
        let SubTotal = PrecioTotal - Iva;

        Compra.cabecera.IvaCompra = Iva;
        Compra.cabecera.TotalCompra = PrecioTotal;

        StaticSubTotal.value =  `C$ ${SubTotal}`;
        StaticIva.value =  `C$ ${Iva}`;
        StaticPrecioTotal.value =  `C$ ${PrecioTotal}`;
        Cantidad.value=0;
        Precio.value =0;
    }

    async function createCompra(){
     
        if(Compra.detalle.length==0){
            alert('Para crear la compra necesita tener al menos un Articulo en el detalle')
         return;
        }

        if(!confirm('Revise todos los datos, esta seguro de crear la compra?.')){
         return;
        }
        let cbProveedor = document.getElementById(""TxtIdProveedor"");
        let ProveedorId = parseInt(cbProveedor.value)
        Compra.cabecera.FKProveedor = ProveedorId;
       
        Compra.cabecera.FechaCompra  =  new Date().toLocaleString().replace(',','');
        
        console.log(Compra.cabecera");
                WriteLiteral(@".FechaCompra);
        
        let Url = '../api/Compras/SaveCompra';
        console.log(Url)
        let result = await fetch(Url,{ 
            method: ""POST"",
            headers: {
                'Content-Type': ""application/json; charset=utf-8"",
                'Accept': """"
            },
            body:JSON.stringify(Compra)
        })
        .then(response => response.json());

        alert(`La compra se ha creado! con el proveedorId ${Compra.cabecera.FKProveedor} Iva ${Compra.cabecera.IvaCompra} TotalCompra ${Compra.cabecera.TotalCompra}`)
        window.location ='/Compras/ComprasIndex';
    }



        
            function doSearch() {
                const tableReg = document.getElementById('datos');
                const searchText = document.getElementById('searchTerm').value.toLowerCase();
                let total = 0;

                // Recorremos todas las filas con contenido de la tabla
                for (let i = 1; i < tableReg.rows.length; i++) {
   ");
                WriteLiteral(@"                 // Si el td tiene la clase ""noSearch"" no se busca en su cntenido
                    if (tableReg.rows[i].classList.contains(""noSearch"")) {
                        continue;
                    }

                    let found = false;
                    const cellsOfRow = tableReg.rows[i].getElementsByTagName('td');
                    // Recorremos todas las celdas
                    for (let j = 0; j < cellsOfRow.length && !found; j++) {
                        const compareWith = cellsOfRow[j].innerHTML.toLowerCase();
                        // Buscamos el texto en el contenido de la celda
                        if (searchText.length == 0 || compareWith.indexOf(searchText) > -1) {
                            found = true;
                            total++;
                        }
                    }
                    if (found) {
                        tableReg.rows[i].style.display = '';
                    } else {
                        // si no ha encon");
                WriteLiteral(@"trado ninguna coincidencia, esconde la
                        // fila de la tabla
                        tableReg.rows[i].style.display = 'none';
                    }
                }

                // mostramos las coincidencias
                const lastTR = tableReg.rows[tableReg.rows.length - 1];
                const td = lastTR.querySelector(""td"");
                lastTR.classList.remove(""hide"", ""red"");
                if (searchText == """") {
                    lastTR.classList.add(""hide"");
                } else if (total) {
                    td.innerHTML = ""Se ha encontrado "" + total + "" coincidencia"" + ((total > 1) ? ""s"" : """");
                } else {
                    lastTR.classList.add(""red"");
                    td.innerHTML = ""No se han encontrado coincidencias"";
                }
            }
    </script>
");
            }
            );
            WriteLiteral("<div style=\"margin-top:10pt\">\r\n    ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("a", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "243c33eef9fb3a5763944e30194fcb8990e38f0416099", async() => {
                WriteLiteral(" <input type=\"button\" class=\"btn-success\" value=\"Ir a Inicio\" />");
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_AnchorTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.AnchorTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_AnchorTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_AnchorTagHelper.Page = (string)__tagHelperAttribute_0.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_0);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n    ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("a", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "243c33eef9fb3a5763944e30194fcb8990e38f0417321", async() => {
                WriteLiteral(" <input type=\"button\" class=\"btn-info\" value=\"Volver a listado de compras\" />");
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_AnchorTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.AnchorTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_AnchorTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_AnchorTagHelper.Page = (string)__tagHelperAttribute_1.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_1);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n</div>\r\n\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("form", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "243c33eef9fb3a5763944e30194fcb8990e38f0418566", async() => {
                WriteLiteral("\r\n  <div class=\"row\">\r\n      <div class=\"form-group col-md-4\">\r\n        <label for=\"staticFecha\">Fecha:</label>\r\n        <input type=\"text\" readonly class=\"form-control\" id=\"staticFecha\"");
                BeginWriteAttribute("value", " value=", 11174, "", 11208, 1);
                WriteAttributeValue("", 11181, new Microsoft.AspNetCore.Mvc.Razor.HelperResult(async(__razor_attribute_value_writer) => {
                    PushWriter(__razor_attribute_value_writer);
#nullable restore
#line 267 "C:\Users\Zavala\Desktop\Desarrollo\HOUSEPET\PetHouse\CAPA_UI\Pages\Compras\Create.cshtml"
                                                                                  DateTime.Now.ToString();

#line default
#line hidden
#nullable disable
                    PopWriter();
                }
                ), 11181, 27, false);
                EndWriteAttribute();
                WriteLiteral(">\r\n      </div>\r\n      <div class=\"form-group col-md-4\">\r\n        <label>Provedor:</label>\r\n        <select id=\"TxtIdProveedor\" class=\"custom-select\">\r\n");
#nullable restore
#line 272 "C:\Users\Zavala\Desktop\Desarrollo\HOUSEPET\PetHouse\CAPA_UI\Pages\Compras\Create.cshtml"
             foreach(var item in Model.Proveedores)
            {

#line default
#line hidden
#nullable disable
                WriteLiteral("                ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("option", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "243c33eef9fb3a5763944e30194fcb8990e38f0420212", async() => {
#nullable restore
#line 274 "C:\Users\Zavala\Desktop\Desarrollo\HOUSEPET\PetHouse\CAPA_UI\Pages\Compras\Create.cshtml"
                                           Write(item.NombreProveedor);

#line default
#line hidden
#nullable disable
                }
                );
                __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper);
                BeginWriteTagHelperAttribute();
#nullable restore
#line 274 "C:\Users\Zavala\Desktop\Desarrollo\HOUSEPET\PetHouse\CAPA_UI\Pages\Compras\Create.cshtml"
                  WriteLiteral(item.IdProveedor);

#line default
#line hidden
#nullable disable
                __tagHelperStringValueBuffer = EndWriteTagHelperAttribute();
                __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper.Value = __tagHelperStringValueBuffer;
                __tagHelperExecutionContext.AddTagHelperAttribute("value", __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper.Value, global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral("\r\n");
#nullable restore
#line 275 "C:\Users\Zavala\Desktop\Desarrollo\HOUSEPET\PetHouse\CAPA_UI\Pages\Compras\Create.cshtml"
            }

#line default
#line hidden
#nullable disable
                WriteLiteral(@"        </select>
            
      </div>
  </div>
  <div class = ""row"">
      <div class=""form-group col-md-4"">
          <input type=""hidden"" class=""form-control"" id=""TxtId""/>
            <label>Articulo:</label>
            <select id=""TxtIdCategoria"" class=""form-control"" type=""text"" value=""Nombre"">
");
#nullable restore
#line 285 "C:\Users\Zavala\Desktop\Desarrollo\HOUSEPET\PetHouse\CAPA_UI\Pages\Compras\Create.cshtml"
                 foreach (var item in Model.Articulos)
                {

#line default
#line hidden
#nullable disable
                WriteLiteral("                    ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("option", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "243c33eef9fb3a5763944e30194fcb8990e38f0422962", async() => {
#nullable restore
#line 287 "C:\Users\Zavala\Desktop\Desarrollo\HOUSEPET\PetHouse\CAPA_UI\Pages\Compras\Create.cshtml"
                                              Write(item.NombreArticulo);

#line default
#line hidden
#nullable disable
                }
                );
                __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper);
                BeginWriteTagHelperAttribute();
#nullable restore
#line 287 "C:\Users\Zavala\Desktop\Desarrollo\HOUSEPET\PetHouse\CAPA_UI\Pages\Compras\Create.cshtml"
                      WriteLiteral(item.IdArticulo);

#line default
#line hidden
#nullable disable
                __tagHelperStringValueBuffer = EndWriteTagHelperAttribute();
                __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper.Value = __tagHelperStringValueBuffer;
                __tagHelperExecutionContext.AddTagHelperAttribute("value", __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper.Value, global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral("\r\n");
#nullable restore
#line 288 "C:\Users\Zavala\Desktop\Desarrollo\HOUSEPET\PetHouse\CAPA_UI\Pages\Compras\Create.cshtml"
                }

#line default
#line hidden
#nullable disable
                WriteLiteral("            </select>\r\n");
                WriteLiteral(@"      </div>
      <div class=""form-group col-md-4"">
            <label>Cantidad:</label>
            <input type=""number"" id=""TxtCantidadDetalleCompra"" class=""form-control"" min=0 placeholder=""Ingrese la Cantidad""/>
            <span class=""text-danger""></span>
      </div>       
      <div class=""form-group col-md-4"">
            <label>Precio:</label>
            <input type=""number"" id=""TxtPrecioDetalleCompra"" class=""form-control"" min=0 placeholder=""Ingrese el Precio"" />
            <span class=""text-danger""></span>
      </div>
  </div>
  <div class=""row"">
      <div class=""form-group col-md-4"">
        <label for=""staticEmail"">Sub Total:</label>
        <input type=""text"" readonly class=""form-control"" id=""staticSubTotal"" value=""C$ 0"">
      </div>
      <div class=""form-group col-md-4"">
        <label for=""staticEmail"">IVA:</label>
        <input type=""text"" readonly class=""form-control"" id=""staticIVA"" value=""C$ 0"">
      </div>
      <div class=""form-group col-md-4"">
        <labe");
                WriteLiteral("l for=\"staticEmail\">Total:</label>\r\n        <input type=\"text\" readonly class=\"form-control\" id=\"staticPrecioTotal\" value=\"C$ 0\">\r\n      </div>\r\n  </div>\r\n  <button type=\"button\" class=\"btn btn-success\"  onclick=\"addRow()\">Agregar Articulo</button>\r\n");
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral(@"
<table class=""table"">
    <thead>
        <tr>
            <th>Articulo</th>
            <th>Cantidad</th>
            <th>Precio</th>
            <th>Acciones</th>
        </tr>
    </thead>
    <tbody id=""tbl-detalle"">
    </tbody>
</table>

<div class=""modal-footer"">
    <button type=""button"" class=""btn btn-success"" id=""Crear"" onclick=""createCompra()"" >Crear Compra</button>
</div>


");
            WriteLiteral("<div class=\"modal fade\" id=\"ModalArticuloComprar\" role=\"dialog\" class=\"row p-5 border-0\">\r\n      <div class=\"modal-dialog modal-lg\">\r\n          <div class=\"modal-content\" >\r\n                ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("form", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "243c33eef9fb3a5763944e30194fcb8990e38f0428166", async() => {
                WriteLiteral(@"
                    <div class=""modal-header"">
                        <h2>Agregar Articulo a la Compra</h2>
                    </div>
                    <div class=""modal-body"">
                        <div>
                            <div  >
                                <div class=""text-danger""></div>
                            </div>
                        </div>
                        <div>
                        <input type=""text"" placeholder=""Escribe el Articulo"" id=""searchTerm"" onkeyup=""doSearch()"" />
                            <button type=""button"" class=""btn-dark"">Buscar</button>
                        </div>
                   <div >
                    <table class=""table"" id=""datos"" >
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nombre</th>
                                <th>Descripcion</th>
                                <th>Unidad de Medida</th>
               ");
                WriteLiteral("                 <th>Estado</th>\r\n                                <th>Categoria</th>\r\n");
                WriteLiteral("                                <th>Acciones</th>\r\n                                \r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n");
#nullable restore
#line 371 "C:\Users\Zavala\Desktop\Desarrollo\HOUSEPET\PetHouse\CAPA_UI\Pages\Compras\Create.cshtml"
                             foreach (var item in Model.Articulos)
                            {

#line default
#line hidden
#nullable disable
                WriteLiteral("                                <tr>\r\n                                    <td>\r\n                                        ");
#nullable restore
#line 375 "C:\Users\Zavala\Desktop\Desarrollo\HOUSEPET\PetHouse\CAPA_UI\Pages\Compras\Create.cshtml"
                                   Write(item.IdArticulo);

#line default
#line hidden
#nullable disable
                WriteLiteral("\r\n                                    </td>\r\n\r\n                                    <td>\r\n                                        ");
#nullable restore
#line 379 "C:\Users\Zavala\Desktop\Desarrollo\HOUSEPET\PetHouse\CAPA_UI\Pages\Compras\Create.cshtml"
                                   Write(item.NombreArticulo);

#line default
#line hidden
#nullable disable
                WriteLiteral("\r\n                                    </td>\r\n                                    <td>\r\n                                        ");
#nullable restore
#line 382 "C:\Users\Zavala\Desktop\Desarrollo\HOUSEPET\PetHouse\CAPA_UI\Pages\Compras\Create.cshtml"
                                   Write(item.DescripcionArticulo);

#line default
#line hidden
#nullable disable
                WriteLiteral("\r\n                                    </td>\r\n                                    <td>\r\n                                            ");
#nullable restore
#line 385 "C:\Users\Zavala\Desktop\Desarrollo\HOUSEPET\PetHouse\CAPA_UI\Pages\Compras\Create.cshtml"
                                       Write(item.IdTalla);

#line default
#line hidden
#nullable disable
                WriteLiteral("\r\n                                    </td>\r\n                                    <td>\r\n                                        ");
#nullable restore
#line 388 "C:\Users\Zavala\Desktop\Desarrollo\HOUSEPET\PetHouse\CAPA_UI\Pages\Compras\Create.cshtml"
                                   Write(item.EstadoArticulo);

#line default
#line hidden
#nullable disable
                WriteLiteral("\r\n                                    </td>\r\n                                    <td>\r\n                                        ");
#nullable restore
#line 391 "C:\Users\Zavala\Desktop\Desarrollo\HOUSEPET\PetHouse\CAPA_UI\Pages\Compras\Create.cshtml"
                                   Write(item.IdCategoria);

#line default
#line hidden
#nullable disable
                WriteLiteral("\r\n                                    </td>\r\n");
                WriteLiteral("                                    <td>\r\n                                            <button type=\"button\" class=\"btn-success\"");
                BeginWriteAttribute("onclick", " onclick=\"", 16802, "\"", 16845, 3);
                WriteAttributeValue("", 16812, "agregarArticulo(", 16812, 16, true);
#nullable restore
#line 397 "C:\Users\Zavala\Desktop\Desarrollo\HOUSEPET\PetHouse\CAPA_UI\Pages\Compras\Create.cshtml"
WriteAttributeValue("", 16828, item.IdArticulo, 16828, 16, false);

#line default
#line hidden
#nullable disable
                WriteAttributeValue("", 16844, ")", 16844, 1, true);
                EndWriteAttribute();
                WriteLiteral(">Agregar</button>\r\n                                    </td>\r\n                                </tr>\r\n");
                WriteLiteral("                                    <tr class=\'noSearch hide\'>\r\n                                        <td colspan=\"5\"></td>\r\n                                    </tr>\r\n");
#nullable restore
#line 404 "C:\Users\Zavala\Desktop\Desarrollo\HOUSEPET\PetHouse\CAPA_UI\Pages\Compras\Create.cshtml"
                            }

#line default
#line hidden
#nullable disable
                WriteLiteral("                        </tbody>\r\n                    </table>\r\n                   </div>\r\n                  </div>\r\n               \r\n                ");
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper.Method = (string)__tagHelperAttribute_2.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_2);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_3);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral(@"
          </div>
      </div>

    <style>
        #datos {
            border: 1px solid #ccc;
            padding: 10px;
            font-size: 1em;
        }

            #datos tr:nth-child(even) {
                background: #ccc;
            }

            #datos td {
                padding: 5px;
            }

            #datos tr.noSearch {
                background: White;
                font-size: 0.8em;
            }

                #datos tr.noSearch td {
                    padding-top: 10px;
                    text-align: right;
                }

        .hide {
            display: none;
        }

        .red {
            color: Red;
        }
    </style>
      


  </div>");
        }
        #pragma warning restore 1998
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<CAPA_UI.Pages.MaestrosDetalles.Compras.CreateCompraModel> Html { get; private set; } = default!;
        #nullable disable
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary<CAPA_UI.Pages.MaestrosDetalles.Compras.CreateCompraModel> ViewData => (global::Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary<CAPA_UI.Pages.MaestrosDetalles.Compras.CreateCompraModel>)PageContext?.ViewData;
        public CAPA_UI.Pages.MaestrosDetalles.Compras.CreateCompraModel Model => ViewData.Model;
    }
}
#pragma warning restore 1591
